<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matcha Drink Store</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        body {
            background-color: #ffffff;
            color: #1a4d2e;
            margin: 0;
            padding: 0;
        }

        .page-title {
            text-align: center;
            font-size: 22px;
            font-weight: 600;
            margin: 24px 0;
            color: #1a4d2e;
        }

        .checkout-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
            max-width: 1080px;
            margin: 0 auto 40px;
            padding: 0 20px;
        }

        .checkout-form {
            background: #ffffff;
        }

            .checkout-form label {
                font-weight: 600;
                font-size: 13px;
                display: block;
                margin-bottom: 4px;
                margin-top: 12px;
            }

            .checkout-form input,
            .checkout-form textarea {
                width: 100%;
                padding: 8px 10px;
                border: 1px solid #ccc;
                border-radius: 6px;
                font-size: 13px;
                margin-bottom: 8px;
            }
        .quantity-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #96cd82; /* ‚Üê ch·ªânh t·∫°i ƒë√¢y */
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 12px;
        }

      
        .payment-methods {
            border: 1px solid #ccc;
            border-radius: 8px;
            overflow: hidden;
            background-color: #fff;
            font-family: sans-serif;
            margin-top: 10px;
            width: 100%;
        }

        .payment-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 11px;
            font-size: 12px;
            border-bottom: 1px solid #eee;
            width: fit-content;
        }

            .payment-option:last-child {
                border-bottom: none;
            }

            .payment-option input[type="radio"] {
                appearance: auto;
                accent-color: #1a73e8;
                margin: 0;
                flex-shrink: 0;
            }

            .payment-option label {
                margin: 0;
                cursor: pointer;
                color: #333;
                font-weight: 500;
                white-space: nowrap;
                font-size: 13px;
            }

        .qr-code {
            display: none;
            margin-top: 14px;
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            border: 1px dashed #ccc;
        }

            .qr-code img {
                width: 160px;
                border-radius: 8px;
            }

        .cart-summary {
            background: #f9f9f9;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            font-size: 13px;
            width: 500px;
        }

            .cart-summary h3 {
                font-size: 16px;
                margin-bottom: 10px;
                color: #1a4d2e;
                text-align: center; /* ‚Üê th√™m d√≤ng n√†y */
            }

        .cart-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 14px;
        }

            .cart-item img {
                width: 42px;
                height: 42px;
                border-radius: 6px;
                object-fit: cover;
            }

        .coupon-row {
            display: flex;
            gap: 8px;
            margin-top: 14px;
        }

        #couponInput {
            flex: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 13px;
        }

        #applyCouponBtn {
            padding: 8px 14px;
            background-color: #96cd82;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 13px;
        }

            #applyCouponBtn:hover {
                background-color: #1a6fa3;
            }

        #checkout-cart-total {
            font-weight: bold;
            font-size: 14px;
            margin-top: 16px;
            color: #1a4d2e;
        }

        .cart-summary-total {
            margin-top: 14px;
            font-size: 13px;
            color: #333;
        }

            .cart-summary-total p {
                display: flex;
                justify-content: space-between;
                margin: 6px 0;
            }

        .cart-summary-final {
            display: flex;
            justify-content: space-between;
            align-items: baseline; /* <- S·ª≠a ·ªü ƒë√¢y */
            font-weight: bold;
            font-size: 16px;
            color: #1a4d2e;
            margin-top: 8px;
        }

        .cart-summary-final-value {
            font-size: 16px;
            font-weight: bold;
            color: #1a4d2e;
            line-height: 1; /* Gi·ªØ ch·ªØ v√† k√Ω hi·ªáu c√πng h√†ng */
        }


        /* Ph·∫ßn ch·ªØ "T·ªïng c·ªông:" */
        .cart-summary-final-label {
            font-size: 16px;
            color: #1a4d2e; /* B·∫°n c√≥ th·ªÉ thay b·∫±ng m√†u kh√°c n·∫øu mu·ªën */
        }

       

        .form-group {
            margin-bottom: 16px;
        }

            .form-group label {
                display: block;
                margin-bottom: 5px;
                font-size: 13px;
                color: #333;
                font-weight: 600;
            }

            .form-group select {
                width: 100%;
                padding: 10px 12px;
                font-size: 13px;
                border: 1.5px solid #ccc;
                border-radius: 8px;
                background-color: white;
                appearance: none;
                background-image: url("data:image/svg+xml,%3Csvg fill='gray' height='18' viewBox='0 0 24 24' width='18' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 10l5 5 5-5H7z'/%3E%3C/svg%3E");
                background-repeat: no-repeat;
                background-position: right 12px center;
                background-size: 16px;
                cursor: pointer;
                transition: border-color 0.3s ease;
            }

                .form-group select:focus {
                    border-color: #4caf50;
                    outline: none;
                }
        main {
            font-family: Arial, sans-serif;
            font-size: 13px;
            color: #1a4d2e;
        }
        .order-summary {
            padding: 16px;
            font-family: Arial, sans-serif;
            color: #96cd82; /* m√†u xanh ƒë·∫≠m */
        }

        .order-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 16px;
            border-bottom: 1px solid #eee;
            padding-bottom: 12px;
        }

            .order-item img {
                width: 80px;
                height: 80px;
                object-fit: cover;
                border: 2px dashed #d6e7dd;
                border-radius: 8px;
                margin-right: 12px;
            }

        .item-details {
            flex: 1;
        }

            .item-details strong {
                font-size: 1.1rem;
                color: #005e3c;
                display: block;
                margin-bottom: 4px;
            }

            .item-details p {
                margin: 2px 0;
                font-size: 0.95rem;
            }
        .checkout-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }

        .back-to-cart {
            color: #96cd82;
            text-decoration: none;
            font-size: 14px;
        }

            .back-to-cart i {
                margin-right: 5px;
            }

        .checkout-btn {
            padding: 10px 24px;
            background-color: #96cd82;
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s ease;
        }

            .checkout-btn:hover {
                background-color: #96cd82;
            }

    </style>

</head>

  
<body>

    <header>
        <div class="ad-banner">
            <marquee>Nh·∫≠p m√£ MATSUYANF ƒë·ªÉ nh·∫≠n ∆∞u ƒë√£i 50K cho ƒë∆°n h√†ng tr√™n 200k!</marquee>
        </div>

        <nav class="navbar">
            <div class="navbar-left">
                <!-- N√∫t ‚ò∞ ƒë∆∞a v√†o ƒë√¢y -->
                <button class="menu-toggle" onclick="toggleMenu()">
                    <span class="material-symbols-outlined">menu</span>
                </button>

                <div class="logo">
                    <a href="trangchu.html">
                        <img src="images/logo2.jpg" alt="Logo Matsuya">
                    </a>
                </div>


                <ul class="navigation">
                    <li><a href="trangchu.html">TRANG CH·ª¶</a></li>
                    <li><a href="gioithieu.html">GI·ªöI THI·ªÜU</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropbtn">S·∫¢N PH·∫®M</a>
                        <div class="dropdown-content">
                            <a href="tatcasp.html">T·∫•t c·∫£ s·∫£n ph·∫©m</a>
                            <a href="matcha.html">Tr√† Matcha</a>
                            <a href="houji.html">Tr√† Houjicha</a>
                            <a href="banh.html">B√°nh Matcha</a>
                            <a href="bot.html">B·ªôt Matcha</a>
                            <a href="dungcu.html">D·ª•ng c·ª•</a>
                            <a href="combo.html">Combo</a>
                        </div>
                    </li>
                    <li><a href="tintuc.html">TIN T·ª®C</a></li>
                    <li><a href="lienhe.html">LI√äN H·ªÜ</a></li>
                </ul>
            </div>

            <div class="navbar-right">
                <div class="icon-bar">
                    <button class="icon-button" onclick="window.location.href='giohang.html'">
                        <span class="material-symbols-outlined">shopping_cart</span>
                    </button>

                    <button class="icon-button" onclick="window.location.href='spyeuthich.html'">
                        <span class="material-symbols-outlined">favorite</span>
                    </button>
                    <button class="icon-button" onclick="window.location.href='login.html'">
                        <span class="material-symbols-outlined">person</span>
                    </button>
                </div>
            </div>



        </nav>
    </header>

    <!-- Side menu -->
    <div id="side-menu" class="side-menu">
        <button class="close-btn" onclick="toggleMenu()">x</button>
        <nav class="menu-items">
            <a href="trangchu.html">Trang ch·ªß</a>
            <a href="gioithieu.html">Gi·ªõi thi·ªáu</a>
            <!-- Dropdown s·∫£n ph·∫©m -->
            <a href="#" onclick="toggleDropdown(event)">S·∫£n ph·∫©m ‚ñæ</a>
            <ul class="dropdown-menu" id="product-dropdown">
                <a href="matcha.html">Tr√† Matcha</a>
                <a href="houji.html">Tr√† Houjicha</a>
                <a href="banh.html">B√°nh Matcha</a>
                <a href="bot.html">B·ªôt Matcha</a>
                <a href="dungcu.html">D·ª•ng c·ª•</a>
                <a href="combo.html">Combo</a>
            </ul>
            <a href="tintuc.html">Tin t·ª©c</a>
            <a href="lienhe.html">Li√™n h·ªá</a>
        </nav>
    </div>



    <!-- Script -->
    <script>
        function toggleMenu() {
            document.getElementById("side-menu").classList.toggle("active");
        }
    </script>

    <!-- MAIN: FORM THANH TO√ÅN -->
    <main>
        <h1 class="page-title">TH√îNG TIN THANH TO√ÅN</h1>

        <div class="checkout-container">
            <!-- Th√¥ng tin kh√°ch h√†ng -->
            <div class="checkout-form">
                <label for="fullname">H·ªç t√™n</label>
                <input type="text" id="fullname" placeholder="Nh·∫≠p h·ªç t√™n" required>

                <label for="phone">ƒêi·ªán tho·∫°i</label>
                <input type="text" id="phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" required>

                <label for="email">Email</label>
                <input type="email" id="email" placeholder="Nh·∫≠p email" required>

                <label for="address">ƒê·ªãa ch·ªâ</label>
                <input type="text" id="address" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ">

                <!-- T·ªânh (c·ªë ƒë·ªãnh l√† H√† N·ªôi) -->
                <div class="form-group">
                    <label for="province">T·ªânh/Th√†nh ph·ªë</label>
                    <select id="province" disabled required>
                        <option value="H√† N·ªôi" selected>H√† N·ªôi</option>
                    </select>
                </div>

                <!-- Qu·∫≠n/Huy·ªán -->
                <div class="form-group">
                    <label for="district">Qu·∫≠n/Huy·ªán</label>
                    <select id="district" required>
                        <option value="">-- Ch·ªçn qu·∫≠n/huy·ªán --</option>
                        <option value="ƒê·ªëng ƒêa">ƒê·ªëng ƒêa</option>
                        <option value="Ho√†n Ki·∫øm">Ho√†n Ki·∫øm</option>
                        <option value="C·∫ßu Gi·∫•y">C·∫ßu Gi·∫•y</option>
                        <option value="Thanh Xu√¢n">Thanh Xu√¢n</option>
                        <option value="Ho√†ng Mai">Ho√†ng Mai</option>
                        <option value="H√† ƒê√¥ng">H√† ƒê√¥ng</option>
                    </select>
                </div>

                <!-- Ph∆∞·ªùng/X√£ -->
                <div class="form-group">
                    <label for="ward">Ph∆∞·ªùng/X√£</label>
                    <select id="ward">
                        <option value="">-- Ch·ªçn ph∆∞·ªùng/x√£ --</option>
                        <option value="Ph∆∞·ªùng Trung Li·ªát">Ph∆∞·ªùng Trung Li·ªát</option>
                        <option value="Ph∆∞·ªùng Ph∆∞∆°ng Li√™n">Ph∆∞·ªùng Ph∆∞∆°ng Li√™n</option>
                        <option value="Ph∆∞·ªùng L√°ng H·∫°">Ph∆∞·ªùng L√°ng H·∫°</option>
                        <option value="Ph∆∞·ªùng H√†ng Tr·ªëng">Ph∆∞·ªùng H√†ng Tr·ªëng</option>
                        <option value="Ph∆∞·ªùng Kh∆∞∆°ng Trung">Ph∆∞·ªùng Kh∆∞∆°ng Trung</option>
                    </select>
                </div>

                <!-- H√¨nh th·ª©c thanh to√°n -->
                <label style="font-weight: bold; display: block; margin-bottom: 10px;">H√¨nh th·ª©c thanh to√°n</label>
                <div class="payment-methods">
                    <div class="payment-option">
                        <input type="radio" id="bank" name="payment" value="bank" required>
                        <label for="bank">Chuy·ªÉn kho·∫£n</label>
                    </div>
                    <div class="payment-option">
                        <input type="radio" id="cod" name="payment" value="cod">
                        <label for="cod">Thu h·ªô (COD)</label>
                    </div>
                </div>

                <!-- QR code -->
                <div class="qr-code" id="qrCode">
                    <p>Vui l√≤ng qu√©t m√£ QR ƒë·ªÉ chuy·ªÉn kho·∫£n:</p>
                    <img src="images/QRcode.jpg" alt="QR Code">
                </div>

                <!-- Ghi ch√∫ ƒë∆°n h√†ng -->
                <label for="note">Ghi ch√∫ ƒë∆°n h√†ng</label>
                <textarea id="note" rows="4" placeholder="B·∫°n c√≥ ghi ch√∫ g√¨ cho ƒë∆°n h√†ng kh√¥ng?"></textarea>

                <!-- Upload ·∫£nh x√°c nh·∫≠n thanh to√°n -->
                <label for="proof">T·∫£i l√™n ·∫£nh x√°c nh·∫≠n thanh to√°n (n·∫øu c√≥)</label>
                <input type="file" id="proof" accept="image/*">
            </div>

            <!-- Gi·ªè h√†ng -->
            <div class="cart-summary">
                <h3>ƒê∆°n h√†ng</h3>
                <div id="checkout-cart-items">
                    <!-- S·∫Ω t·ª± ƒë·ªông render gi·ªè h√†ng ·ªü ƒë√¢y -->
                </div>

                <div class="coupon-row">
                    <input type="text" id="couponInput" placeholder="Nh·∫≠p m√£ khuy·∫øn m√£i">
                    <button id="applyCouponBtn">√Åp d·ª•ng</button>
                </div>

                <div class="cart-summary-total">
                    <p><span>T·∫°m t√≠nh:</span> <span id="product-total">0ƒë</span></p>
                    <p><span>Gi·∫£m gi√°:</span> <span id="discount-amount">0ƒë</span></p>
                    <p><span>Ph√≠ v·∫≠n chuy·ªÉn:</span> <span id="shipping-fee">0ƒë</span></p>
                    <p class="cart-summary-final">
                        <span class="cart-summary-final-label">T·ªïng c·ªông:</span>
                        <span class="cart-summary-final-value" id="checkout-cart-total">0ƒë</span>
                    </p>
                </div>

                <div class="checkout-actions">
                    <a href="giohang.html" class="back-to-cart">
                        <i class="fas fa-arrow-left"></i> Quay v·ªÅ gi·ªè h√†ng
                    </a>
                    <button class="checkout-btn" onclick="placeOrder()">ƒê·∫∂T H√ÄNG</button>
                </div>
            </div>

</main>


    <footer class="footer">
        <div class="footer-top">
            <div class="newsletter">
                <i class="icon-email">‚úâÔ∏è</i>
                <span>H√£y ƒë·ªÉ ch√∫ng m√¨nh l·∫Øng nghe g√≥p √Ω c·ªßa c·∫≠u!</span>
            </div>
            <form class="subscribe" id="feedbackForm">
                <input type="text" id="feedbackInput" placeholder="Nh·∫≠p g√≥p √Ω c·ªßa b·∫°n" required>
                <button type="submit">G·ª≠i</button>
            </form>

        </div>

        <div class="footer-content">
            <div class="footer-section logo-contact">
                <img src="images/logo2.jpg" alt="Matsuya Logo" class="logo">
                <ul>
                    <li><i class="icon">üìç</i> 12 ph·ªë Ch√πa B·ªôc, ph∆∞·ªùng Quang Trung, qu·∫≠n ƒê·ªëng ƒêa, H√† N·ªôi</li>
                    <div class="map-container">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3724.620803649952!2d105.82537677387555!3d21.007832088499686!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135ac806cfc0845%3A0x3848505bd3b9490f!2zMTIgUC4gQ2jDuWEgQuG7mWMsIFF1YW5nIFRydW5nLCDEkOG7kW5nIMSQYSwgSMOgIE7hu5lpIDEwMDAwMCwgVmlldG5hbQ!5e0!3m2!1sen!2s!4v1746035458690!5m2!1sen!2s"
                                width="300"
                                height="300"
                                style="border:0;"
                                allowfullscreen=""
                                loading="lazy">
                        </iframe>

                </ul>
            </div>

            <div class="footer-section">
                <h4>H·ªñ TR·ª¢ KH√ÅCH H√ÄNG</h4>
                <ul>
                    <li><i class="icon">üìß</i> matsuya2025@gmail.com</li>
                    <li><i class="icon">üìû</i> 0394889183</li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>CH√çNH S√ÅCH</h3>

                <ul class="policy-list">
                    <li><i class="fas fa-chevron-right"></i> <a href="chinhsach3.html">Ch√≠nh s√°ch b√°n h√†ng</a></li>
                    <li><i class="fas fa-chevron-right"></i> <a href="chinhsach1.html">Ch√≠nh s√°ch thanh to√°n</a></li>
                    <li><i class="fas fa-chevron-right"></i> <a href="chinhsach.html">ƒêi·ªÅu kho·∫£n d·ªãch v·ª•</a></li>
                    <li><i class="fas fa-chevron-right"></i> <a href="chinhsach2.html">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>GI·ªú M·ªû C·ª¨A</h4>
                <p>T·ª´ 9:00 - 21:30 t·∫•t c·∫£ c√°c ng√†y trong tu·∫ßn<br>(bao g·ªìm c·∫£ c√°c ng√†y l·ªÖ, ng√†y T·∫øt).</p>
                <h4>G√ìP √ù, KHI·∫æU N·∫†I</h4>
                <p><i class="icon">üìû</i> 1900 6750</p>
            </div>
        </div>
    </footer>

    <script>
        let productTotal = 0;
        let discount = 0;
        let shippingFee = 0;

        const cartItemsDiv = document.getElementById("checkout-cart-items");
        const productTotalEl = document.getElementById("product-total");
        const shippingFeeEl = document.getElementById("shipping-fee");
        const discountEl = document.getElementById("discount-amount");
        const finalTotalEl = document.getElementById("checkout-cart-total");

        const cartData = JSON.parse(localStorage.getItem("cart")) || [];
        cartItemsDiv.innerHTML = "";

        cartData.forEach(item => {
            const itemTotal = item.price * item.quantity;
            productTotal += itemTotal;

            const itemHTML = `
                <div style="display: flex; align-items: center; margin-bottom: 10px; gap: 10px;">
                    <img src="${item.image}" alt="${item.name}" style="width: 60px; height: 60px; object-fit: cover;">
                    <div>
                        <p><strong>${item.name}</strong></p>
                        <p>S·ªë l∆∞·ª£ng: ${item.quantity}</p>
                        <p>Gi√°: ${item.price.toLocaleString()}ƒë</p>
                        <p>Th√†nh ti·ªÅn: ${(itemTotal).toLocaleString()}ƒë</p>
                    </div>
                </div>
            `;
            cartItemsDiv.innerHTML += itemHTML;
        });

        productTotalEl.textContent = productTotal.toLocaleString() + "ƒë";
        discountEl.textContent =  discount.toLocaleString() + "ƒë";
        shippingFeeEl.textContent = shippingFee.toLocaleString() + "ƒë";

        function updateFinalTotal() {
            const total = productTotal + shippingFee - discount;
            document.getElementById("checkout-cart-total").innerText = total.toLocaleString() + "ƒë";
        }


        updateFinalTotal();

        // M√£ khuy·∫øn m√£i
        document.getElementById("applyCouponBtn").addEventListener("click", function () {
            const code = document.getElementById("couponInput").value.trim().toUpperCase();

            if (code === "MATSUYANF") {
                if (productTotal >= 200000) {
                    discount = 50000;
                    alert("√Åp d·ª•ng m√£ th√†nh c√¥ng! ƒê∆∞·ª£c gi·∫£m 50.000ƒë.");
                } else {
                    alert("ƒê∆°n h√†ng ch∆∞a ƒë·ªß 200.000ƒë ƒë·ªÉ √°p d·ª•ng m√£.");
                    discount = 0;
                }
            } else {
                alert("M√£ kh√¥ng h·ª£p l·ªá!");
                discount = 0;
            }

            // ‚úÖ Format l·∫°i: kh√¥ng nh·∫£y d·∫•u ‚Äú-‚Äù tr·ªÖ n·ªØa
            discountEl.textContent = discount > 0 ? `- ${discount.toLocaleString()}ƒë` : "0ƒë";

            updateFinalTotal();  // t√≠nh l·∫°i t·ªïng
        });



        // Ph√≠ v·∫≠n chuy·ªÉn theo qu·∫≠n (ƒë√£ s·ª≠a cho ph√π h·ª£p v·ªõi value ti·∫øng Vi·ªát)
        document.getElementById("district").addEventListener("change", function () {
            const district = this.value;

            switch (district) {
                case "ƒê·ªëng ƒêa":
                case "Ho√†n Ki·∫øm":
                case "C·∫ßu Gi·∫•y":
                    shippingFee = 20000;
                    break;
                case "Thanh Xu√¢n":
                    shippingFee = 25000;
                    break;
                case "Ho√†ng Mai":
                case "H√† ƒê√¥ng":
                    shippingFee = 30000;
                    break;
                default:
                    shippingFee = 0;
            }

            shippingFeeEl.textContent = shippingFee.toLocaleString() + "ƒë";
            updateFinalTotal();
        });


        // QR Code toggle
        document.querySelectorAll('input[name="payment"]').forEach(function (radio) {
            radio.addEventListener('change', function () {
                const qrCode = document.getElementById('qrCode');
                qrCode.style.display = this.value === 'bank' ? 'block' : 'none';
            });
        });

        // G·ª≠i g√≥p √Ω
        document.getElementById("feedbackForm").addEventListener("submit", function (event) {
            event.preventDefault();
            const feedback = document.getElementById("feedbackInput").value.trim();
            if (!feedback) {
                alert("Vui l√≤ng nh·∫≠p g√≥p √Ω c·ªßa b·∫°n.");
                return;
            }
            alert("C·∫£m ∆°n b·∫°n ƒë√£ g√≥p √Ω: " + feedback);
            document.getElementById("feedbackInput").value = "";
        });
        function renderCheckoutCart() {
            const cart = JSON.parse(localStorage.getItem("cart")) || [];
            const container = document.getElementById("checkout-cart-items");
            container.innerHTML = "";

            cart.forEach(item => {
                const productHTML = `
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 14px;">
            <div style="display: flex; align-items: center; gap: 10px;">
                <div style="position: relative;">
                    <img src="${item.image}" alt="${item.name}" style="width: 48px; height: 48px; border-radius: 8px; object-fit: cover;">
                  <span class="quantity-badge">${item.quantity}</span>
                </div>
                <div style="font-size: 13px;">${item.name}</div>
            </div>
            <div style="font-weight: bold;">${item.price.toLocaleString()}ƒë</div>
        </div>
        `;
                container.innerHTML += productHTML;
            });
        }
        document.addEventListener("DOMContentLoaded", function () {
            renderCheckoutCart();
        });
        function placeOrder() {
            const name = document.querySelector('input[placeholder="Nh·∫≠p h·ªç t√™n"]').value.trim();
            const phone = document.querySelector('input[placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i"]').value.trim();
            const email = document.querySelector('input[placeholder="Nh·∫≠p email"]').value.trim();
            const address = document.querySelector('input[placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ"]').value.trim();
            const district = document.getElementById("district").value;
            const ward = document.getElementById("ward").value;
            const paymentMethodEl = document.querySelector('input[name="payment"]:checked');
            const paymentMethod = paymentMethodEl?.id === "bank" ? "Chuy·ªÉn kho·∫£n" : "Thu h·ªô (COD)";


            if (!name || !phone || !email || !address || !district || !ward || !paymentMethod) {
                alert("Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin b·∫Øt bu·ªôc.");
                return;
            }

            const fullAddress = `${address}, ${ward}, ${district}, H√† N·ªôi`;
            const cart = JSON.parse(localStorage.getItem("cart")) || [];

            const orderInfo = {
                name,
                phone,
                email,
                address: fullAddress,
                paymentMethod,
                total: document.getElementById("checkout-cart-total").innerText,
                cart
            };

            // üîπ Th√™m c√°c th√¥ng tin b·ªï sung
            localStorage.setItem("orderInfo", JSON.stringify(orderInfo));
            localStorage.setItem("shippingFee", shippingFee);
            localStorage.setItem("discount", discount);
            localStorage.setItem("productTotal", productTotal);

            localStorage.setItem("orderInfo", JSON.stringify(orderInfo));
            alert("ƒê·∫∑t h√†ng th√†nh c√¥ng!");
            window.location.href = "donhang.html";

        }


    </script>

</body>
</html>